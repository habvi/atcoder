S = [[('#', '#', '#', '#', '#'), ('#', '.', '.', '.', '#'), ('#', '#', '#', '#', '#')],
     [('.', '#', '.', '.', '#'), ('#', '#', '#', '#', '#'), ('.', '.', '.', '.', '#')],
     [('#', '.', '#', '#', '#'), ('#', '.', '#', '.', '#'), ('#', '#', '#', '.', '#')],
     [('#', '.', '#', '.', '#'), ('#', '.', '#', '.', '#'), ('#', '#', '#', '#', '#')],
     [('#', '#', '#', '.', '.'), ('.', '.', '#', '.', '.'), ('#', '#', '#', '#', '#')],
     [('#', '#', '#', '.', '#'), ('#', '.', '#', '.', '#'), ('#', '.', '#', '#', '#')],
     [('#', '#', '#', '#', '#'), ('#', '.', '#', '.', '#'), ('#', '.', '#', '#', '#')],
     [('#', '.', '.', '.', '.'), ('#', '.', '.', '.', '.'), ('#', '#', '#', '#', '#')],
     [('#', '#', '#', '#', '#'), ('#', '.', '#', '.', '#'), ('#', '#', '#', '#', '#')],
     [('#', '#', '#', '.', '#'), ('#', '.', '#', '.', '#'), ('#', '#', '#', '#', '#')]]

def check(T):
    for i, s in enumerate(S):
        if T == s:
            ans.append(str(i))
            return


n = int(input())
T = [input() for _ in range(5)]

num = []
ans = []
for i, t in enumerate(zip(*T)):
    if i == 0:
        continue
    if i % 4 == 0:
        check(num)
        num = []
    else:
        num.append(t)

print(''.join(ans))